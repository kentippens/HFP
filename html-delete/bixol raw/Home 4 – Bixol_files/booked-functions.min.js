(function(e,t,n){var o,c=e(t);e.fn.spin.presets.booked={lines:10,length:7,width:5,radius:11,corners:1,rotate:0,direction:1,color:"#555",speed:1,trail:60,shadow:!1,hwaccel:!1,className:"booked-spinner",zIndex:2e9,top:"50%",left:"50%"},e.fn.spin.presets.booked_top={lines:11,length:10,width:6,radius:15,corners:1,rotate:0,scale:.5,direction:1,color:"#aaaaaa",speed:1,trail:60,shadow:!1,hwaccel:!1,className:"booked-spinner booked-spinner-top",zIndex:2e9,top:"15px",left:"50%"},e.fn.spin.presets.booked_white={lines:13,length:11,width:5,radius:18,scale:1,corners:1,rotate:0,direction:1,color:"#fff",speed:1,trail:60,shadow:!1,hwaccel:!1,className:"booked-spinner booked-white",zIndex:2e9,top:"50%",left:"50%"},c.on("resize",function(){adjust_calendar_boxes(),resize_booked_modal()}),c.on("load",function(){o.Init();var s,c,l,d=[];adjust_calendar_boxes(),e(".booked-calendar-wrap").each(function(){var t=e(this),n=t.find("div.booked-calendar").attr("data-calendar-date");t.attr("data-default",n),init_tooltips(t)}),e(".booked-list-view").each(function(){var t=e(this),n=t.find(".booked-appt-list").attr("data-list-date");t.attr("data-default",n)}),a(),i(),e(".booked_calendar_chooser").change(function(s){if(s.preventDefault(),c=e(this),u=c.parents(".booked-calendarSwitcher").hasClass("calendar"),u)o=c.parents(".booked-calendar-shortcode-wrap").find(".booked-calendar-wrap"),l=o.attr("data-default"),typeof l=="undefined"&&(l=!1),d={action:"booked_calendar_month",nonce:booked_js_vars.nonce,gotoMonth:l,calendar_id:c.val()},r(!0,o),e.ajax({url:booked_js_vars.ajax_url,type:"post",data:d,success:function(n){o.html(n),adjust_calendar_boxes(),a(),init_tooltips(o),e(t).trigger("booked-load-calendar",d,c)}});else{var c,d,o=c.parents(".booked-calendar-shortcode-wrap").find(".booked-list-view"),l=o.attr("data-default"),u=c.parents(".booked-calendarSwitcher").hasClass("calendar");typeof l=="undefined"&&(l=!1),o.addClass("booked-loading"),d={action:"booked_appointment_list_date",nonce:booked_js_vars.nonce,date:l,calendar_id:c.val()},e(n).trigger("booked-before-loading-appointment-list-booking-options"),o.spin("booked_top"),e.ajax({url:booked_js_vars.ajax_url,type:"post",data:d,success:function(e){o.html(e),i(),setTimeout(function(){o.removeClass("booked-loading")},1)}})}return!1}),e("body").on("click",".booked-calendar-wrap .page-right, .booked-calendar-wrap .page-left, .booked-calendar-wrap .monthName a",function(n){n.preventDefault();var c,s=e(this),l=s.attr("data-goto"),o=s.parents(".booked-calendar-wrap"),i=o.attr("data-default"),d=s.parents("div.booked-calendar").attr("data-calendar-id");return typeof i=="undefined"&&(i=!1),c={action:"booked_calendar_month",nonce:booked_js_vars.nonce,gotoMonth:l,calendar_id:d,force_default:i},r(!0,o),e.ajax({url:booked_js_vars.ajax_url,type:"post",data:c,success:function(n){o.html(n),adjust_calendar_boxes(),a(),init_tooltips(o),e(t).trigger("booked-load-calendar",c,s)}}),!1}),e("body").on("click",".booked-calendar-wrap .bc-row.week .bc-col",function(t){t.preventDefault();var i,s=e(this),o=s.parents("div.booked-calendar"),r=s.parent(),c=s.attr("data-date"),a=o.attr("data-calendar-id"),l=r.find(".bc-col").length;a||(a=0),s.hasClass("blur")||s.hasClass("booked")&&!booked_js_vars.publicAppointments||s.hasClass("prev-date")||(s.hasClass("active")?(s.removeClass("active"),e(".bc-row.entryBlock").remove(),i=o.height(),o.parent().height(i)):(e(".bc-row.week .bc-col").removeClass("active"),s.addClass("active"),e(".bc-row.entryBlock").remove(),r.after('<div class="bc-row entryBlock booked-loading"><div class="bc-col"></div></div>'),e(".bc-row.entryBlock").find(".bc-col").spin("booked"),booked_load_calendar_date_booking_options={action:"booked_calendar_date",nonce:booked_js_vars.nonce,date:c,calendar_id:a},e(n).trigger("booked-before-loading-calendar-booking-options"),i=o.height(),o.parent().height(i),e.ajax({url:booked_js_vars.ajax_url,type:"post",data:booked_load_calendar_date_booking_options,success:function(t){e(".bc-row.entryBlock").find(".bc-col").html(t),e(".bc-row.entryBlock").removeClass("booked-loading"),e(".bc-row.entryBlock").find(".booked-appt-list").fadeIn(300),e(".bc-row.entryBlock").find(".booked-appt-list").addClass("shown"),adjust_calendar_boxes()}})))}),e("body").on("click",".booked-list-view .booked-list-view-date-prev, .booked-list-view .booked-list-view-date-next",function(t){t.preventDefault();var c,o=e(this),l=o.attr("data-date"),s=o.parents(".booked-list-view"),a=s.attr("data-default"),r=o.parents(".booked-list-view-nav").attr("data-calendar-id");return typeof a=="undefined"&&(a=!1),r||(r=0),s.addClass("booked-loading"),c={action:"booked_appointment_list_date",nonce:booked_js_vars.nonce,date:l,calendar_id:r,force_default:a},e(n).trigger("booked-before-loading-appointment-list-booking-options"),s.spin("booked_top"),e.ajax({url:booked_js_vars.ajax_url,type:"post",data:c,success:function(e){s.html(e),i(),setTimeout(function(){s.removeClass("booked-loading")},1)}}),!1}),bookedNewAppointment=function(t){t.preventDefault();var o,s=e(this),r=s.attr("data-title"),c=s.attr("data-timeslot"),l=s.attr("data-date"),i=s.attr("data-calendar-id"),d=s.parents(".timeslot"),a=s.parents(".booked-calendar-wrap").hasClass("booked-list-view");return typeof a!="undefined"&&a?(o=s.parents(".booked-list-view").find(".booked-list-view-nav").attr("data-calendar-id")):(o=s.parents("div.booked-calendar").attr("data-calendar-id")),i=o||i,booked_appt_form_options={action:"booked_new_appointment_form",nonce:booked_js_vars.nonce,date:l,timeslot:c,calendar_id:i,title:r},e(n).trigger("booked-before-loading-booking-form"),create_booked_modal(),setTimeout(function(){e.ajax({url:booked_js_vars.ajax_url,type:"post",data:booked_appt_form_options,success:function(t){e(".bm-window").html(t);var o=e(".booked-modal"),s=o.find(".bm-window");s.css({visibility:"hidden"}),o.removeClass("bm-loading"),e(n).trigger("booked-on-new-app"),resize_booked_modal(),s.hide(),e(".booked-modal .bm-overlay").find(".booked-spinner").remove(),setTimeout(function(){s.css({visibility:"visible"}),s.show()},50)}})},100),!1},e("body").on("click",".booked-calendar-wrap button.new-appt",bookedNewAppointment),c=e(".booked-tabs"),c.find("li.active").length||c.find("li:first-child").addClass("active"),c.length&&(e(".booked-tab-content").hide(),l=c.find(".active > a").attr("href"),l=l.split("#"),l=l[1],e("#profile-"+l).show(),c.find("li > a").on("click",function(t){t.preventDefault(),e(".booked-tab-content").hide(),c.find("li").removeClass("active"),e(this).parent().addClass("active");var n=e(this).attr("href"),n=n.split("#"),n=n[1];return e("#profile-"+n).show(),!1})),e("body").on("click",".booked-profile-appt-list .booked-show-cf",function(t){t.preventDefault();var n=e(this).parent().find(".cf-meta-values-hidden");return n.is(":visible")?(n.hide(),e(this).removeClass("booked-cf-active")):(n.show(),e(this).addClass("booked-cf-active")),!1}),e("#loginform").length&&e('#loginform input[type="submit"]').on("click",function(t){e('#loginform input[name="log"]').val()&&e('#loginform input[name="pwd"]').val()?e("#loginform .booked-custom-error").hide():e("#loginform").parents(".booked-form-wrap").length&&(t.preventDefault(),e("#loginform").parents(".booked-form-wrap").find(".booked-custom-error").fadeOut(200).fadeIn(200))}),e("#profile-forgot").length&&e('#profile-forgot input[type="submit"]').on("click",function(t){e('#profile-forgot input[name="user_login"]').val()?e("#profile-forgot .booked-custom-error").hide():(t.preventDefault(),e("#profile-forgot").find(".booked-custom-error").fadeOut(200).fadeIn(200))}),e(".booked-upload-wrap").length&&e(".booked-upload-wrap input[type=file]").on("change",function(){var t=e(this).val();e(this).parent().find("span").html(t),e(this).parent().addClass("hasFile")}),e("body").on("click",".booked-profile-appt-list .appt-block .cancel",function(t){t.preventDefault();var n,o=e(this),s=o.parents(".appt-block"),i=s.attr("data-appt-id");return confirm_delete=confirm(booked_js_vars.i18n_confirm_appt_delete),confirm_delete==!0&&(n=parseInt(e(".booked-profile-appt-list").find("h4").find("span.count").html()),n=parseInt(n-1),n<1?(e(".booked-profile-appt-list").find("h4").find("span.count").html("0"),e(".no-appts-message").slideDown("fast")):e(".booked-profile-appt-list").find("h4").find("span.count").html(n),e(".appt-block").animate({opacity:.4},0),s.slideUp("fast",function(){e(this).remove()}),e.ajax({url:booked_js_vars.ajax_url,method:"post",data:{action:"booked_cancel_appt",nonce:booked_js_vars.nonce,appt_id:i},success:function(){e(".appt-block").animate({opacity:1},150)}})),!1}),e("body").on("touchstart click",".bm-overlay, .bm-window .close, .booked-form .cancel",function(e){return e.preventDefault(),close_booked_modal(),!1}),e("body").on("focusin",".booked-form input",function(){this.title==this.value&&(e(this).addClass("hasContent"),this.value="")}).on("focusout",".booked-form input",function(){this.value===""&&(e(this).removeClass("hasContent"),this.value=this.title)}),e("body").on("change",".booked-form input",function(){var t=e(this).attr("data-condition"),n=e(this).val();t&&e(".condition-block").length&&(e(".condition-block."+t).hide(),e("#condition-"+n).fadeIn(200),resize_booked_modal())}),e("body").on("submit","form#ajaxlogin",function(n){n.preventDefault(),e("form#ajaxlogin p.status").show().html('<i class="fa-solid fa-circle-notch fa-spin"></i>&nbsp;&nbsp;&nbsp;'+booked_js_vars.i18n_please_wait),resize_booked_modal();var s=e(this),o=s.data("date"),i=s.data("title"),a=s.data("timeslot"),r=s.data("calendar-id");e.ajax({type:"post",url:booked_js_vars.ajax_url,data:e("form#ajaxlogin").serialize(),success:function(n){if(n=="success"){close_booked_modal();var s=e('<button data-title="'+i+'" data-timeslot="'+a+'" data-date="'+o+'" data-calendar-id="'+r+'"></button>');s.on("click",t.bookedNewAppointment),s.triggerHandler("click"),s.unbind("click",t.bookedNewAppointment),s.detach()}else e("form#ajaxlogin p.status").show().html('<i class="fa-solid fa-triangle-exclamation" style="color:#E35656"></i>&nbsp;&nbsp;&nbsp;'+booked_js_vars.i18n_wrong_username_pass),resize_booked_modal()}}),n.preventDefault()}),e("body").on("click",".booked-forgot-password",function(t){t.preventDefault(),e("#ajaxlogin").hide(),e("#ajaxforgot").show(),resize_booked_modal()}),e("body").on("click",".booked-forgot-goback",function(t){t.preventDefault(),e("#ajaxlogin").show(),e("#ajaxforgot").hide(),resize_booked_modal()}),e("body").on("submit","form#ajaxforgot",function(t){t.preventDefault(),e("form#ajaxforgot p.status").show().html('<i class="fa-solid fa-circle-notch fa-spin"></i>&nbsp;&nbsp;&nbsp;'+booked_js_vars.i18n_please_wait),resize_booked_modal();var n=e(this);e.ajax({type:"post",url:booked_js_vars.ajax_url,data:e("form#ajaxforgot").serialize(),success:function(n){n=="success"?(t.preventDefault(),e("#ajaxlogin").show(),e("#ajaxforgot").hide(),e("form#ajaxlogin p.status").show().html('<i class="fa-solid fa-check" style="color:#56c477"></i>&nbsp;&nbsp;&nbsp;'+booked_js_vars.i18n_password_reset),resize_booked_modal()):(e("form#ajaxforgot p.status").show().html('<i class="fa-solid fa-triangle-exclamation" style="color:#E35656"></i>&nbsp;&nbsp;&nbsp;'+booked_js_vars.i18n_password_reset_error),resize_booked_modal())}}),t.preventDefault()}),e("body").on("click",".booked-form input#submit-request-appointment",function(t){e("form#newAppointmentForm p.status").show().html('<i class="fa-solid fa-circle-notch fa-spin"></i>&nbsp;&nbsp;&nbsp;'+booked_js_vars.i18n_please_wait),resize_booked_modal(),t.preventDefault();var n=e("#newAppointmentForm input[name=customer_type]").val(),p=e("#newAppointmentForm input[name=user_id]").val(),h=e("#newAppointmentForm input[name=booked_appt_name]").val(),u=e("#newAppointmentForm input[name=booked_appt_surname]").val(),l=e("#newAppointmentForm input[name=booked_appt_surname]").length,o=e("#newAppointmentForm input[name=guest_name]").val(),c=e("#newAppointmentForm input[name=guest_surname]").val(),a=e("#newAppointmentForm input[name=guest_surname]").length,d=e("#newAppointmentForm input[name=guest_email]").val(),i=e("#newAppointmentForm input[name=guest_email]").length,m=e("#newAppointmentForm input[name=booked_appt_email]").val(),f=e("#newAppointmentForm input[name=booked_appt_password]").val(),r=!1,g=[];if(e(this).parents(".booked-form").find("input,textarea,select").each(function(t,n){var s,o,i,a=e(this).attr("required");a&&e(n).attr("type")=="hidden"?(s=e(n).attr("name"),s=s.split("---"),fieldName=s[0],fieldNumber=s[1].split("___"),fieldNumber=fieldNumber[0],fieldName=="radio-buttons-label"?(o=!1,e('input:radio[name="single-radio-button---'+fieldNumber+'[]"]:checked').each(function(){e(this).val()&&(o=e(this).val())}),o||(r=!0)):fieldName=="checkboxes-label"&&(i=!1,e('input:checkbox[name="single-checkbox---'+fieldNumber+'[]"]:checked').each(function(){e(this).val()&&(i=e(this).val())}),i||(r=!0))):a&&e(n).attr("type")!="hidden"&&e(n).val()==""&&(r=!0)}),r)return e("form#newAppointmentForm p.status").show().html('<i class="fa-solid fa-triangle-exclamation" style="color:#E35656"></i>&nbsp;&nbsp;&nbsp;'+booked_js_vars.i18n_fill_out_required_fields),resize_booked_modal(),!1;if(n=="new"&&!h||n=="new"&&l&&!u||n=="new"&&!m||n=="new"&&!f)return e("form#newAppointmentForm p.status").show().html('<i class="fa-solid fa-triangle-exclamation" style="color:#E35656"></i>&nbsp;&nbsp;&nbsp;'+booked_js_vars.i18n_appt_required_fields),resize_booked_modal(),!1;if(n=="guest"&&!o||n=="guest"&&i&&!d||n=="guest"&&a&&!c)return e("form#newAppointmentForm p.status").show().html('<i class="fa-solid fa-triangle-exclamation" style="color:#E35656"></i>&nbsp;&nbsp;&nbsp;'+booked_js_vars.i18n_appt_required_fields_guest),resize_booked_modal(),!1;(n=="current"&&p||n=="guest"&&o&&!a&&!i||n=="guest"&&o&&a&&c&&!i||n=="guest"&&o&&i&&d&&!a||n=="guest"&&o&&i&&d&&a&&c)&&s.currentUserOrGuest(),n=="new"&&h&&m&&f&&(!l||l&&u)&&s.newUser()}),s={formSelector:"#newAppointmentForm",formBtnRequestSelector:".booked-form input#submit-request-appointment",formStatusSelector:"p.status",formSubmitBtnSelector:"#submit-request-appointment",apptContainerSelector:".booked-appointment-details",baseFields:["guest_name","guest_surname","guest_email","action","customer_type","user_id"],apptFields:["appoinment","calendar_id","title","date","timestamp","timeslot"],userFields:["booked_appt_name","booked_appt_surname","booked_appt_email","booked_appt_password"],captchaFields:["captcha_word","captcha_code"],currentApptIndex:!1,currentApptCounter:!1,hasAnyErrors:!1,currentUserOrGuest:function(){var t,e=s._totalAppts();if(!e)return;s._showLoadingMessage(),s._resetDefaultValues(),t=s._getBaseData(),s.currentApptIndex=0,s.currentApptCounter=1,s._doRequestAppointment(t,e)},newUser:function(){var t,n,o=s._totalAppts();if(!o)return;s._showLoadingMessage(),s._resetDefaultValues(),t=s._getBaseData(),o>1?(n=null,n=e.extend(!0,{},t),n=s._addUserRegistrationData(n),s._requestUserRegistration(n),t.customer_type="current"):t=s._addUserRegistrationData(t),s.currentApptIndex=0,s._doRequestAppointment(t,o)},_doRequestAppointment:function(t,n){var o,i,r,c,a=s.apptFields;s.currentApptIndex===0&&(s._hideCancelBtn(),s._disableSubmitBtn(),s.hasAnyErrors=!1);for(o=e.extend(!0,{},t),i=0;i<a.length;i++)o[a[i]]=s._getFieldVal(a[i],s.currentApptIndex);r=s._getFieldVal("calendar_id",s.currentApptIndex),o=s._addCustomFieldsData(o,r),c=s._getApptElement(s.currentApptIndex),c.hasClass("skip")?(s.currentApptIndex++,s.currentApptCounter++,s._doRequestAppointment(t,n,s.currentApptIndex)):e.ajax({type:"post",url:booked_js_vars.ajax_url,data:o,success:function(e){s._requestAppointmentResponseHandler(e),s.currentApptIndex++,setTimeout(function(){s.currentApptCounter===n?s.hasAnyErrors?(s._enableSubmitBtn(),s._showCancelBtn()):s._onAfterRequestAppointment():(s.currentApptCounter++,s._doRequestAppointment(t,n))},100)}})},_totalAppts:function(){return e(s.formSelector+' input[name="appoinment[]"]').length},_getBaseData:function(){for(var e={},n=s.baseFields,t=0;t<n.length;t++)e[n[t]]=s._getFieldVal(n[t]);return e.nonce=booked_js_vars.nonce,e.is_fe_form=!0,e.total_appts=s._totalAppts(),e},_getFieldVal:function(t,n){var t=typeof t=="undefined"?"":t,n=typeof n!="undefined"&&n,o=s.formSelector+" ";return n===!1?(o+=" [name="+t+"]",e(o).val()):(o+=' [name="'+t+'[]"]',e(o).eq(n).val())},_resetDefaultValues:function(){e(".booked-form input").each(function(){var t=e(this).val(),n=e(this).attr("title");n==t&&e(this).val("")})},_resetToDefaultValues:function(){e(".booked-form input").each(function(){var t=e(this).val(),n=e(this).attr("title");t||e(this).val(n)})},_addUserRegistrationData:function(t){return e.each(s.userFields,function(e,n){t[n]=s._getFieldVal(n)}),e.each(s.captchaFields,function(e,n){var o=s._getFieldVal(n);if(!o)return;t[n]=o}),t},_addCustomFieldsData:function(t,n){var s=e(".cf-block [name]").filter(function(){var s=e(this);return parseInt(s.data("calendar-id"))===parseInt(n)&&s.attr("name").match(/---\d+/g)}).each(function(){var o=e(this),s=o.attr("name"),i=o.val(),a=o.attr("type");if(!i)return;if(!s.match(/checkbox|radio+/g)){t[s]=i;return}if(s.match(/radio+/g)&&o.is(":checked")){t[s]=i;return}if((!s.match(/radio+/g)&&typeof t[s]=="undefined"||!s.match(/radio+/g)&&t[s].constructor!==Array)&&(t[s]=[]),!o.is(":checked"))return;t[s].push(i)});return t},_requestUserRegistration:function(t){e.ajax({type:"post",url:booked_js_vars.ajax_url,data:t,async:!1,success:function(e){s._requestUserRegistrationResponseHandler(e)}})},_requestUserRegistrationResponseHandler:function(e){var t=e.split("###"),n=t[0].substr(t[0].length-5);if(n==="error")return},_requestAppointment:function(e){s._requestAppointmentResponseHandler(e)},_requestAppointmentResponseHandler:function(e){var t=e.split("###"),n=t[0].substr(t[0].length-5);if(n==="error"){s._requestAppointmentOnError(t);return}s._requestAppointmentOnSuccess(t)},_requestAppointmentOnError:function(t){var o=s._getApptElement();e(n).trigger("booked-on-requested-appt-error",[o]),s._highlightAppt(),s._setStatusMsg(t[1]),s.hasAnyErrors=!0,resize_booked_modal()},_requestAppointmentOnSuccess:function(){var o=s._getApptElement();e(n).trigger("booked-on-requested-appt-success",[o]),s._unhighlightAppt()},_onAfterRequestAppointment:function(){var o={redirect:!1},i=e(n).trigger("booked-on-requested-appointment",[o]);if(o.redirect)return;if(booked_js_vars.profilePage){t.location=booked_js_vars.profilePage;return}s._reloadApptsList(),s._reloadCalendarTable()},_setStatusMsg:function(t){var n=s.formSelector+" "+s.formStatusSelector;e(n).show().html('<i class="fa-solid fa-triangle-exclamation" style="color:#E35656"></i>&nbsp;&nbsp;&nbsp;'+t)},_getApptElement:function(t){var t=typeof t=="undefined"?s.currentApptIndex:t,n=s.formSelector+" "+s.apptContainerSelector;return e(n).eq(t)},_highlightAppt:function(){var t=s._getApptElement();if(!t.length)return;t.addClass("has-error")},_unhighlightAppt:function(){var t=s._getApptElement();if(!t.length)return;t.removeClass("has-error").addClass("skip")},_enableSubmitBtn:function(){var t=s.formSelector+" "+s.formSubmitBtnSelector;e(t).attr("disabled",!1)},_disableSubmitBtn:function(){var t=s.formSelector+" "+s.formSubmitBtnSelector;e(t).attr("disabled",!0)},_showCancelBtn:function(){e(s.formSelector).find("button.cancel").show()},_hideCancelBtn:function(){e(s.formSelector).find("button.cancel").hide()},_showLoadingMessage:function(){e("form#newAppointmentForm p.status").show().html('<i class="fa-solid fa-circle-notch fa-spin"></i>&nbsp;&nbsp;&nbsp;'+booked_js_vars.i18n_please_wait)},_reloadApptsList:function(){if(!e(".booked-appt-list").length)return;e(".booked-appt-list").each(function(){var r,a=e(this),c=a.attr("data-list-date"),t=a.parents(".booked-list-view"),s=t.attr("data-default"),o=parseInt(a.find(".booked-list-view-nav").attr("data-calendar-id"))||0,s=typeof s!="undefined"&&s,o=o||0;t.addClass("booked-loading"),r={action:"booked_appointment_list_date",nonce:booked_js_vars.nonce,date:c,calendar_id:o,force_default:s},e(n).trigger("booked-before-loading-appointment-list-booking-options"),t.spin("booked_top"),e.ajax({url:booked_js_vars.ajax_url,type:"post",data:r,success:function(e){t.html(e),close_booked_modal(),i(),setTimeout(function(){t.removeClass("booked-loading")},1)}})})},_reloadCalendarTable:function(){if(!e(".bc-col.active").length)return;var t=e(".bc-col.active"),s=t.attr("data-date"),o=parseInt(t.parents("table").data("calendar-id"))||0;booked_load_calendar_date_booking_options={action:"booked_calendar_date",nonce:booked_js_vars.nonce,date:s,calendar_id:o},e(n).trigger("booked-before-loading-calendar-booking-options"),e.ajax({url:booked_js_vars.ajax_url,type:"post",data:booked_load_calendar_date_booking_options,success:function(t){e(".bc-row.entryBlock").find(".bc-col").html(t),close_booked_modal(),e(".bc-row.entryBlock").removeClass("booked-loading"),e(".bc-row.entryBlock").find(".booked-appt-list").hide().fadeIn(300),e(".bc-row.entryBlock").find(".booked-appt-list").addClass("shown"),adjust_calendar_boxes()}})}}});function a(){e("div.booked-calendar").find(".bc-row.week").each(function(){e(this).children().length==0&&e(this).remove()})}function r(t,n){if(t=typeof t=="undefined"||t,n=typeof n!="undefined"&&n,n)var s=n.find("li.active .savingState, .topSavingState.savingState, .calendarSavingState"),o=n.find(".monthName"),i=n.find("div.booked-calendar .bc-body");else s=e("li.active .savingState, .topSavingState.savingState, .calendarSavingState"),o=e(".monthName"),i=e("div.booked-calendar .bc-body");t?(s.fadeIn(200),o.hide(),i.animate({opacity:.2},100)):(s.hide(),o.show(),i.animate({opacity:1},0))}e(n).ajaxStop(function(){r(!1)});function i(){e(".booked_list_date_picker").each(function(){var t=e(this),s=t.parents(".booked-appt-list").attr("data-min-date"),o=t.parents(".booked-appt-list").attr("data-max-date");typeof s=="undefined"&&(s=t.attr("data-min-date")),t.datepicker({dateFormat:"yy-mm-dd",minDate:s,maxDate:o,showAnim:!1,beforeShow:function(){e("#ui-datepicker-div").removeClass(),e("#ui-datepicker-div").addClass("booked_custom_date_picker")},onClose:function(){e(".booked_list_date_picker_trigger").removeClass("booked-dp-active")},onSelect:function(t){var c,r=e(this),l=t,s=r.parents(".booked-list-view"),o=s.attr("data-default"),a=r.parents(".booked-list-view-nav").attr("data-calendar-id");return typeof o=="undefined"&&(o=!1),a||(a=0),s.addClass("booked-loading"),c={action:"booked_appointment_list_date",nonce:booked_js_vars.nonce,date:l,calendar_id:a,force_default:o},e(n).trigger("booked-before-loading-appointment-list-booking-options"),s.spin("booked_top"),e.ajax({url:booked_js_vars.ajax_url,type:"post",data:c,success:function(e){s.html(e),i(),setTimeout(function(){s.removeClass("booked-loading")},1)}}),!1}})}),e("body").on("click",".booked_list_date_picker_trigger",function(t){t.preventDefault(),e(this).hasClass("booked-dp-active")||(e(this).addClass("booked-dp-active"),e(this).parents(".booked-appt-list").find(".booked_list_date_picker").datepicker("show"))})}o={bookingModalSelector:".booked-modal",tabSelector:".booked-tabs",tabNavSelector:".booked-tabs-nav span",tabCntSelector:".booked-tabs-cnt",Init:function(){e(n).on("click",this.tabNavSelector,this.tabsNav)},tabsNav:function(t){t.preventDefault(),o.switchToTab(e(this)),o.maybeResizeBookingModal()},switchToTab:function(e){var t=e,n="."+t.data("tab-cnt"),s=t.parents(o.tabSelector);t.addClass("active").siblings().removeClass("active"),s.find(o.tabCntSelector+" "+n).addClass("active").siblings().removeClass("active")},maybeResizeBookingModal:function(){if(!e(o.bookingModalSelector).length)return;resize_booked_modal()}}})(jQuery,window,document);function create_booked_modal(){var e,t=jQuery(window).height(),n=jQuery(window).width();n>720?(e=t-295):(e=t),jQuery("body input, body textarea, body select").blur(),jQuery("body").addClass("booked-noScroll"),jQuery('<div class="booked-modal bm-loading"><div class="bm-overlay"></div><div class="bm-window"><div style="height:100px"></div></div></div>').appendTo("body"),jQuery(".booked-modal .bm-overlay").spin("booked_white"),jQuery(".booked-modal .bm-window").css({"max-height":e+"px"})}var booked_load_calendar_date_booking_options,booked_appt_form_options,bookedNewAppointment,previousRealModalHeight=100;function resize_booked_modal(){var e,t,s,i,a,r,o=jQuery(window).height(),c=jQuery(window).width(),n=43;jQuery(".booked-modal .bm-window .booked-scrollable").length?(e=jQuery(".booked-modal .bm-window .booked-scrollable")[0].scrollHeight,e<100?e=previousRealModalHeight:previousRealModalHeight=e):(e=0),r=e+n+n,s=e-n,o<r?s=o-n-n:s=e,c>720?(t=s-25,i=t-15,a=(t+78)/2):(t=o-n,i=t-60,a=t/2),jQuery(".booked-modal").css({"margin-top":"-"+a+"px"}),jQuery(".booked-modal .bm-window").css({"max-height":t+"px"}),jQuery(".booked-modal .bm-window .booked-scrollable").css({"max-height":i+"px"})}function close_booked_modal(){var e=jQuery(".booked-modal");e.fadeOut(200),e.addClass("bm-closing"),jQuery("body").removeClass("booked-noScroll"),setTimeout(function(){e.remove()},300)}function init_tooltips(){jQuery(".tooltipster").tooltipster({theme:"tooltipster-light",animation:"grow",speed:200,delay:50,offsetY:-15})}function adjust_calendar_boxes(){jQuery("div.booked-calendar").each(function(){var t=jQuery(window).width(),n=jQuery(this).parents(".booked-calendar-wrap").hasClass("small"),s=jQuery(this).find(".bc-body .bc-row.week .bc-col").width(),e=jQuery(this).height();boxesHeight=s*1,jQuery(this).find(".bc-body .bc-row.week .bc-col").height(boxesHeight),jQuery(this).find(".bc-body .bc-row.week .bc-col .date").css("line-height",boxesHeight+"px"),jQuery(this).find(".bc-body .bc-row.week .bc-col .date .number").css("line-height",boxesHeight+"px"),n||t<720?jQuery(this).find(".bc-body .bc-row.week .bc-col .date .number").css("line-height",boxesHeight+"px"):jQuery(this).find(".bc-body .bc-row.week .bc-col .date .number").css("line-height",""),e=jQuery(this).height(),jQuery(this).parent().height(e)})}